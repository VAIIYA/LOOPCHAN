(()=>{var e={};e.id=6138,e.ids=[6138],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},41041:e=>{"use strict";e.exports=require("node:url")},42999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(63614),s(50134),s(35866);var r=s(23191),a=s(88716),o=s(37922),i=s.n(o),n=s(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["threads",{children:["[threadId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,63614)),"/Users/meneer.groot/GitHub/LOOPCHAN/app/threads/[threadId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,50134)),"/Users/meneer.groot/GitHub/LOOPCHAN/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/meneer.groot/GitHub/LOOPCHAN/app/threads/[threadId]/page.tsx"],u="/threads/[threadId]/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/threads/[threadId]/page",pathname:"/threads/[threadId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},88275:(e,t,s)=>{Promise.resolve().then(s.bind(s,49216))},49216:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(10326),a=s(17577),o=s(35047),i=s(83056),n=s(86178),l=s(35295),d=s(51471);function c(){let e=(0,o.useParams)(),t=(0,o.useRouter)(),s=e.threadId,[c,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[p,m]=(0,a.useState)(null),[g,y]=(0,a.useState)(0),j=async(e=0)=>{try{x(!0),m(null),y(e),console.log(`Attempting to load thread ${s} (attempt ${e+1})`);let t=await d.s.getThread(s);if(t.success&&t.thread)console.log(`Thread ${s} loaded successfully`),console.log(`Thread has ${t.thread.replies?.length||0} replies`),t.thread.replies&&t.thread.replies.length>0?(console.log("Reply IDs:",t.thread.replies.map(e=>e.id)),console.log("Reply details:",t.thread.replies.map(e=>({id:e.id,hasImage:!!e.image,hasContent:!!e.content,timestamp:e.timestamp})))):console.log("No replies found in loaded thread data"),u(t.thread);else{if("Thread not found"===t.error&&e<10){let t=Math.min(1e3*Math.pow(1.5,e),5e3);console.log(`Thread not found, retrying in ${t}ms... (attempt ${e+1}/10)`),setTimeout(()=>{j(e+1)},t);return}console.error(`Thread ${s} not found after ${e+1} attempts`),m(t.error||"Thread not found")}}catch(e){console.error("Error loading thread:",e),m("Failed to load thread")}finally{x(!1)}},b=()=>{t.push("/")};return h?(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx(n.h,{title:"LoopChan",showHomeLink:!0,showAdvertiseLink:!0}),r.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),r.jsx("p",{className:"text-orange-600",children:"Loading thread..."}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"This may take a moment for new threads"}),g>0&&(0,r.jsxs)("p",{className:"text-blue-500 text-sm mt-1",children:["Retrying... (attempt ",g+1,"/10)"]})]})}),r.jsx(l.$,{})]}):p||!c?(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx(n.h,{title:"LoopChan",showHomeLink:!0,showAdvertiseLink:!0}),r.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:r.jsx("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-md max-w-md mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Thread Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:p||"The requested thread could not be found."}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("button",{onClick:b,className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Back to Homepage"}),r.jsx("button",{onClick:()=>j(),className:"w-full bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:"Try Again"})]})]})})}),r.jsx(l.$,{})]}):(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx(n.h,{title:"LoopChan",showHomeLink:!0,showAdvertiseLink:!0}),r.jsx("main",{className:"max-w-6xl mx-auto px-6 py-8",children:r.jsx(i.s,{thread:c,onBack:b})}),r.jsx(l.$,{})]})}},35295:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(10326);s(17577);let a=()=>r.jsx("footer",{className:"mt-12",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-6 shadow-sm",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Board Rules"}),(0,r.jsxs)("ul",{className:"text-gray-600 space-y-2",children:[r.jsx("li",{children:"• Be respectful to other users"}),r.jsx("li",{children:"• Stay on topic for each board"}),r.jsx("li",{children:"• No spam or duplicate threads"}),r.jsx("li",{children:"• No underage images"})]}),r.jsx("hr",{className:"border-gray-300 my-6"}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"By using this website (the \"site\"), you agree that you'll follow these rules, and understand that if we reasonably think you haven't followed these rules, we may (at our own discretion) terminate your access to the site:"})]}),(0,r.jsxs)("div",{className:"text-center mt-6 space-y-2",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"LoopChan - Anonymous discussion platform powered by Solana"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"All posts are anonymous. Connect your Solana wallet to create threads and post replies."})]})]})})},63614:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/meneer.groot/GitHub/LOOPCHAN/app/threads/[threadId]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,2892,52,6295,3250,3056],()=>s(42999));module.exports=r})();