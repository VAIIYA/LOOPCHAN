(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},23926:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(66136),t(50134),t(35866);var a=t(23191),r=t(88716),d=t(37922),l=t.n(d),n=t(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66136)),"/Users/meneer.groot/GitHub/LOOPCHAN/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,50134)),"/Users/meneer.groot/GitHub/LOOPCHAN/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/meneer.groot/GitHub/LOOPCHAN/app/admin/page.tsx"],m="/admin/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},36293:(e,s,t)=>{Promise.resolve().then(t.bind(t,24976))},24976:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var a=t(10326),r=t(17577),d=t(86178),l=t(58038),n=t(37202),i=t(76557);let o=(0,i.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=t(24061);let m=(0,i.Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var x=t(31556);function h(){let{wallet:e}=(0,x.O)(),[s,t]=(0,r.useState)([]),[i,h]=(0,r.useState)(!0),[u,p]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),f=e.connected&&"2Z9eW3nwa2GZUM1JzXdfBK1MN57RPA2PrhuTREEZ31VY"===e.publicKey,v=async()=>{try{h(!0);let s=await fetch("/api/admin/mods",{headers:{"x-admin-wallet":e.publicKey||""}});if(s.ok){let e=await s.json();t(e.mods||[])}else 403===s.status?y("Admin access denied"):y("Failed to load mods")}catch(e){console.error("Failed to load mods:",e),y("Failed to load mods")}finally{h(!1)}},w=async()=>{if(!u.trim()){y("Please enter a wallet address");return}try{y(""),b("");let s=await fetch("/api/admin/mods",{method:"POST",headers:{"Content-Type":"application/json","x-admin-wallet":e.publicKey||""},body:JSON.stringify({action:"add",walletAddress:u.trim()})});if(s.ok)b("Mod added successfully"),p(""),v();else{let e=await s.json();y(e.error||"Failed to add mod")}}catch(e){console.error("Failed to add mod:",e),y("Failed to add mod. Please try again.")}},N=async s=>{if(confirm(`Are you sure you want to remove ${s.slice(0,8)}...${s.slice(-8)} as a mod?`))try{y(""),b("");let t=await fetch("/api/admin/mods",{method:"POST",headers:{"Content-Type":"application/json","x-admin-wallet":e.publicKey||""},body:JSON.stringify({action:"remove",walletAddress:s})});if(t.ok)b("Mod removed successfully"),v();else{let e=await t.json();y(e.error||"Failed to remove mod")}}catch(e){console.error("Failed to remove mod:",e),y("Failed to remove mod. Please try again.")}},k=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=e=>`${e.slice(0,8)}...${e.slice(-8)}`;return f?i?(0,a.jsxs)("div",{className:"min-h-screen",children:[a.jsx(d.h,{title:"Admin Dashboard",showHomeLink:!0,showAdvertiseLink:!1}),a.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-orange-600",children:"Loading mods..."})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen",children:[a.jsx(d.h,{title:"Admin Dashboard",showHomeLink:!0,showAdvertiseLink:!1}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Admin Dashboard"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Manage moderators and configure LoopChan settings."})]}),g&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-800",children:[a.jsx(n.Z,{className:"w-5 h-5"}),a.jsx("span",{children:g})]})}),j&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-800",children:[a.jsx("span",{children:"✓"}),a.jsx("span",{children:j})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md mb-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(o,{className:"w-6 h-6 mr-2 text-orange-500"}),"Add Moderator"]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Enter Solana wallet address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-500"})}),a.jsx("button",{onClick:w,className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors",children:"Add Mod"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Moderators can post and comment without paying fees."})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(c.Z,{className:"w-6 h-6 mr-2 text-orange-500"}),"Current Moderators (",s.length,")"]}),0===s.length?a.jsx("p",{className:"text-gray-500 italic",children:"No moderators added yet."}):a.jsx("div",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-mono text-sm text-gray-700 mb-1",children:e.walletAddress}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Added by ",A(e.addedBy)," on ",k(e.addedAt)]})]}),(0,a.jsxs)("button",{onClick:()=>N(e.walletAddress),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[a.jsx(m,{className:"w-4 h-4"}),a.jsx("span",{children:"Remove"})]})]},e._id))})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"About Moderators"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Moderators can post and comment without paying the 0.01 USDC fee"}),a.jsx("li",{children:"• Admins are automatically exempt from fees"}),a.jsx("li",{children:"• Regular users must pay 0.01 USDC per thread or comment"}),a.jsx("li",{children:"• All fees are sent to the treasury wallet: 2sRhKuPffCwT2uuGVu3DXDsLFmjv78uKkEMd9UYrF5jv"})]})]})]})]}):(0,a.jsxs)("div",{className:"min-h-screen",children:[a.jsx(d.h,{title:"Admin Dashboard",showHomeLink:!0,showAdvertiseLink:!1}),a.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:a.jsx("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-md max-w-md mx-auto",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(l.Z,{className:"w-16 h-16 text-red-500"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"This admin dashboard is restricted to authorized wallet addresses only."}),e.connected?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[a.jsx(n.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Connected wallet is not authorized for admin access"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Connected: ",A(e.publicKey||"")]}),a.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Go to Homepage"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Please connect your wallet to verify admin access."}),a.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Go to Homepage"})]})]})})})]})}},76557:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(17577),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,...m},x)=>(0,a.createElement)("svg",{ref:x,...r,width:l,height:l,stroke:t,strokeWidth:i?24*Number(n)/Number(l):n,className:["lucide",`lucide-${d(e)}`,o].join(" "),...m},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},37202:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},58038:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},66136:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/meneer.groot/GitHub/LOOPCHAN/app/admin/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,2892,6295],()=>t(23926));module.exports=a})();