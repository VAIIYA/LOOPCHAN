"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{9763:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let n=(0,o.forwardRef)((n,a)=>{let{color:c="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:g="",children:h,...u}=n;return(0,o.createElement)("svg",{ref:a,...l,width:s,height:s,stroke:c,strokeWidth:d?24*Number(i)/Number(s):i,className:["lucide","lucide-".concat(r(e)),g].join(" "),...u},[...t.map(e=>{let[t,n]=e;return(0,o.createElement)(t,n)}),...Array.isArray(h)?h:[h]])});return n.displayName="".concat(e),n}},3028:function(e,t,n){n.d(t,{h:function(){return a}});var o=n(7437);n(2265);var l=n(6541),r=()=>{let{wallet:e,connect:t,disconnect:n}=(0,l.O)();if(e.connected){let t;return(0,o.jsxs)("div",{className:"flex items-center space-x-3 bg-green-50 border border-green-200 rounded-lg px-4 py-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,o.jsx)("span",{className:"text-sm font-medium text-green-800",children:(t=e.publicKey,"".concat(t.slice(0,4),"...").concat(t.slice(-4)))}),(0,o.jsx)("button",{onClick:n,className:"text-xs text-green-600 hover:text-green-800 underline transition-colors",title:"Disconnect wallet",children:"Disconnect"})]})}return(0,o.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,o.jsx)("span",{className:"text-sm font-medium text-orange-800",children:"Wallet Required"})]}),(0,o.jsx)("button",{onClick:t,disabled:e.connecting,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white text-sm font-medium px-3 py-1 rounded transition-colors",children:e.connecting?"Connecting...":"Connect"})]})})};let a=e=>{let{showHomeLink:t=!0,showAdvertiseLink:n=!0,title:l="LoopChan",onBack:a}=e;return(0,o.jsx)("header",{className:"bg-white border-b border-orange-200 shadow-sm",children:(0,o.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-6",children:[a&&(0,o.jsxs)("button",{onClick:a,className:"flex items-center space-x-2 text-orange-600 hover:text-orange-700 transition-colors",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,o.jsx)("span",{children:"Back"})]}),(0,o.jsxs)("a",{href:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[(0,o.jsx)("div",{className:"w-8 h-8 flex items-center justify-center",children:(0,o.jsx)("img",{src:"/logo.png",alt:"LoopChan Logo",className:"w-8 h-8"})}),(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-orange-600",children:"LoopChan"}),l&&"LoopChan"!==l&&(0,o.jsx)("span",{className:"text-sm text-gray-600",children:l})]})]}),t&&(0,o.jsx)("a",{href:"/",className:"text-orange-600 hover:text-orange-700 transition-colors",children:"Home"}),n&&(0,o.jsx)("a",{href:"/advertise",className:"text-orange-600 hover:text-orange-700 transition-colors",children:"Advertise"})]}),(0,o.jsx)(r,{})]})})})}},6541:function(e,t,n){n.d(t,{O:function(){return c},WalletProvider:function(){return s}});var o=n(7437),l=n(2265),r=n(2957).lW;let a=(0,l.createContext)(void 0),c=()=>{let e=(0,l.useContext)(a);if(!e)throw console.error("useWallet must be used within a WalletProvider"),Error("useWallet must be used within a WalletProvider");return e},s=e=>{let{children:t}=e,[n,c]=(0,l.useState)({publicKey:"",connected:!1,connecting:!1});(0,l.useEffect)(()=>{(()=>{try{{let e=localStorage.getItem("loopchan-wallet");if(e)try{let t=JSON.parse(e);console.log("Loading saved wallet state:",t),c(t)}catch(e){console.error("Failed to parse saved wallet state:",e),localStorage.removeItem("loopchan-wallet")}}}catch(e){console.error("Error loading wallet state:",e),c({publicKey:"",connected:!1,connecting:!1}),localStorage.removeItem("loopchan-wallet")}})()},[]),(0,l.useEffect)(()=>{try{n.connected?(localStorage.setItem("loopchan-wallet",JSON.stringify(n)),console.log("Wallet state saved to localStorage")):(localStorage.removeItem("loopchan-wallet"),console.log("Wallet state removed from localStorage"))}catch(e){console.error("Error saving wallet state to localStorage:",e)}},[n]),(0,l.useEffect)(()=>{(()=>{try{if("solana"in window){let e=window.solana;if((null==e?void 0:e.isPhantom)&&e.isConnected&&!n.connected){let t=e.publicKey.toString();console.log("Auto-detected connected wallet:",t),c({publicKey:t,connected:!0,connecting:!1})}}}catch(e){console.error("Error checking wallet availability:",e)}})();let e=()=>{try{let e=window.solana;if(null==e?void 0:e.isConnected){let t=e.publicKey.toString();console.log("Wallet connected event:",t);let n={publicKey:t,connected:!0,connecting:!1};c(n),localStorage.setItem("loopchan-wallet",JSON.stringify(n))}}catch(e){console.error("Error handling wallet connect event:",e)}},t=()=>{try{console.log("Wallet disconnected event"),c({publicKey:"",connected:!1,connecting:!1}),localStorage.removeItem("loopchan-wallet")}catch(e){console.error("Error handling wallet disconnect event:",e)}};try{if("solana"in window){let n=window.solana;return null==n||n.on("connect",e),null==n||n.on("disconnect",t),()=>{null==n||n.off("connect",e),null==n||n.off("disconnect",t)}}}catch(e){console.error("Error setting up wallet event listeners:",e)}},[n.connected]),(0,l.useEffect)(()=>{let e=()=>{try{if("solana"in window){let e=window.solana;if((null==e?void 0:e.isPhantom)&&e.isConnected){let t=e.publicKey.toString(),o=localStorage.getItem("loopchan-wallet");if(o)try{let e=JSON.parse(o);e.connected&&e.publicKey===t&&(!n.connected||n.publicKey!==t)&&(console.log("Restoring wallet state on page load:",t),c({publicKey:t,connected:!0,connecting:!1}))}catch(e){console.error("Error parsing saved wallet on page load:",e)}}}}catch(e){console.error("Error checking wallet on page load:",e)}};e();let t=setTimeout(e,100);return()=>clearTimeout(t)},[]);let s=async()=>{try{if(c(e=>({...e,connecting:!0})),"solana"in window){let e=window.solana;if(null==e?void 0:e.isPhantom)try{let t=(await e.connect()).publicKey.toString(),n={publicKey:t,connected:!0,connecting:!1};c(n),localStorage.setItem("loopchan-wallet",JSON.stringify(n)),console.log("Wallet connected successfully:",t)}catch(e){throw console.error("Phantom connect failed:",e),e}else console.warn("Phantom wallet not detected"),window.open("https://phantom.app/","_blank")}else console.warn("Solana wallet not available"),window.open("https://phantom.app/","_blank")}catch(e){throw console.error("Failed to connect wallet:",e),c(e=>({...e,connecting:!1})),e}},i=async e=>{try{if(!n.connected)throw Error("Wallet not connected");if("solana"in window){let t=window.solana;if(!(null==t?void 0:t.isPhantom))throw Error("Phantom wallet not available");let n=new TextEncoder().encode(e),o=await t.signMessage(n,"utf8");if(!(null==o?void 0:o.signature))throw Error("No signature received from wallet");let l=r.from(o.signature).toString("base64");return console.log("Message signed successfully"),l}throw Error("Solana wallet not available")}catch(e){throw console.error("Failed to sign message:",e),e}};return(0,o.jsx)(a.Provider,{value:{wallet:n,connect:s,disconnect:()=>{try{if("solana"in window){let e=window.solana;null==e||e.disconnect()}c({publicKey:"",connected:!1,connecting:!1}),localStorage.removeItem("loopchan-wallet"),console.log("Wallet disconnected successfully")}catch(e){console.error("Error disconnecting wallet:",e),c({publicKey:"",connected:!1,connecting:!1}),localStorage.removeItem("loopchan-wallet")}},signMessage:i},children:t})}}}]);