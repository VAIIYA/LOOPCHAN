(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{3864:function(e,s,l){Promise.resolve().then(l.bind(l,962))},962:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return y}});var a=l(7437),r=l(2265),t=l(3028),n=l(6541),o=l(2369),i=l(9763);let c=(0,i.Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),d=(0,i.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),u=(0,i.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),x=(0,i.Z)("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),m=(0,i.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),h=(0,i.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function y(){let e;let{wallet:s}=(0,n.O)(),[l,i]=(0,r.useState)({username:"",location:"",x:"",youtube:"",bio:""}),[y,p]=(0,r.useState)(!0),[b,g]=(0,r.useState)(!1),[f,j]=(0,r.useState)(""),[v,w]=(0,r.useState)("");(0,r.useEffect)(()=>{s.connected&&s.publicKey?N():p(!1)},[s.connected,s.publicKey]);let N=async()=>{try{p(!0),j("");let c=await fetch("/api/profile?walletAddress=".concat(s.publicKey));if(c.ok){var e,l,a,r,t,n,o;let s=await c.json();i({username:(null===(e=s.profile)||void 0===e?void 0:e.username)||"",location:(null===(l=s.profile)||void 0===l?void 0:l.location)||"",x:(null===(r=s.profile)||void 0===r?void 0:null===(a=r.socialLinks)||void 0===a?void 0:a.x)||"",youtube:(null===(n=s.profile)||void 0===n?void 0:null===(t=n.socialLinks)||void 0===t?void 0:t.youtube)||"",bio:(null===(o=s.profile)||void 0===o?void 0:o.bio)||""})}else j("Failed to load profile")}catch(e){console.error("Failed to load profile:",e),j("Failed to load profile")}finally{p(!1)}},k=async e=>{if(e.preventDefault(),!s.connected||!s.publicKey){j("Please connect your wallet");return}g(!0),j(""),w("");try{let e=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:s.publicKey,username:l.username.trim()||null,location:l.location.trim()||null,socialLinks:{x:l.x.trim()||null,youtube:l.youtube.trim()||null},bio:l.bio.trim()||null})});if(e.ok)w("Profile updated successfully!"),setTimeout(()=>w(""),3e3);else{let s=await e.json();j(s.error||"Failed to update profile")}}catch(e){console.error("Failed to save profile:",e),j("Failed to update profile. Please try again.")}finally{g(!1)}};return s.connected&&s.publicKey?y?(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(t.h,{title:"Profile",showHomeLink:!0,showAdvertiseLink:!0}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c,{className:"w-12 h-12 text-orange-500 mx-auto mb-4 animate-spin"}),(0,a.jsx)("p",{className:"text-orange-600",children:"Loading profile..."})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(t.h,{title:"Profile",showHomeLink:!0,showAdvertiseLink:!0}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Your Profile"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Customize your profile to personalize your posts"})]}),f&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-800",children:[(0,a.jsx)("span",{children:"⚠"}),(0,a.jsx)("span",{children:f})]})}),v&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-800",children:[(0,a.jsx)("span",{children:"✓"}),(0,a.jsx)("span",{children:v})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-md mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Wallet Address"}),(0,a.jsx)("p",{className:"font-mono text-lg text-gray-900",children:(e=s.publicKey||"","".concat(e.slice(0,8),"...").concat(e.slice(-8)))})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})})]})}),(0,a.jsxs)("form",{onSubmit:k,className:"bg-white rounded-lg p-6 shadow-md space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 inline mr-2"}),"Username"]}),(0,a.jsx)("input",{type:"text",value:l.username,onChange:e=>i({...l,username:e.target.value}),placeholder:"Choose a username (optional)",maxLength:50,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to remain anonymous. Max 50 characters."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(d,{className:"w-4 h-4 inline mr-2"}),"Location"]}),(0,a.jsx)("input",{type:"text",value:l.location,onChange:e=>i({...l,location:e.target.value}),placeholder:"City, Country (optional)",maxLength:100,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max 100 characters."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Social Media Links"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:[(0,a.jsx)(u,{className:"w-3 h-3 inline mr-1"}),"X.com / Twitter"]}),(0,a.jsx)("input",{type:"text",value:l.x,onChange:e=>i({...l,x:e.target.value}),placeholder:"https://x.com/yourusername or x.com/yourusername",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:[(0,a.jsx)(x,{className:"w-3 h-3 inline mr-1"}),"YouTube"]}),(0,a.jsx)("input",{type:"text",value:l.youtube,onChange:e=>i({...l,youtube:e.target.value}),placeholder:"https://youtube.com/@yourchannel or youtube.com/@yourchannel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-500"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(m,{className:"w-4 h-4 inline mr-2"}),"Bio"]}),(0,a.jsx)("textarea",{value:l.bio,onChange:e=>i({...l,bio:e.target.value}),placeholder:"Tell us about yourself (optional)",rows:4,maxLength:500,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-500 resize-none"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[l.bio.length,"/500 characters"]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:b,className:"flex items-center space-x-2 bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 disabled:bg-orange-300 disabled:cursor-not-allowed transition-colors",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("span",{children:"Saving..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Save Profile"})]})})})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"About Your Profile"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,a.jsx)("li",{children:'• Your username will appear instead of "Anonymous" on your posts'}),(0,a.jsx)("li",{children:"• Social media links will be displayed on your profile"}),(0,a.jsx)("li",{children:"• All fields are optional - you can remain anonymous if you prefer"}),(0,a.jsx)("li",{children:"• Your wallet address is always visible for transparency"})]})]})]})]}):(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(t.h,{title:"Profile",showHomeLink:!0,showAdvertiseLink:!0}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-md text-center",children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Please connect your Solana wallet to view and edit your profile."}),(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Go to Homepage"})]})})]})}},9763:function(e,s,l){"use strict";l.d(s,{Z:function(){return n}});var a=l(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let l=(0,a.forwardRef)((l,n)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:x,...m}=l;return(0,a.createElement)("svg",{ref:n,...r,width:i,height:i,stroke:o,strokeWidth:d?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(t(e)),u].join(" "),...m},[...s.map(e=>{let[s,l]=e;return(0,a.createElement)(s,l)}),...Array.isArray(x)?x:[x]])});return l.displayName="".concat(e),l}},2369:function(e,s,l){"use strict";l.d(s,{Z:function(){return a}});let a=(0,l(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[957,28,971,117,744],function(){return e(e.s=3864)}),_N_E=e.O()}]);